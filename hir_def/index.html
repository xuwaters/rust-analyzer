<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="`hir_def` crate contains everything between macro expansion and type inference."><title>hir_def - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-492a78a4a87dcc01.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="hir_def" data-themes="" data-resource-suffix="" data-rustdoc-version="1.82.0 (f6e511eec 2024-10-15)" data-channel="1.82.0" data-search-js="search-a99f1315e7cc5121.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../static.files/storage-118b08c4c78b968e.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-921df33f47b8780c.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-3b12f09e550e0385.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../hir_def/index.html">hir_def</a><span class="version">0.0.0</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#reexports">Re-exports</a></li><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#types">Type Aliases</a></li></ul></section></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">hir_def</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../src/hir_def/lib.rs.html#1-1541">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p><code>hir_def</code> crate contains everything between macro expansion and type
inference.</p>
<p>It defines various items (structs, enums, traits) which comprises Rust code,
as well as an algorithm for resolving paths to such entities.</p>
<p>Note that <code>hir_def</code> is a work in progress, so not all of the above is
actually true.</p>
</div></details><h2 id="reexports" class="section-header">Re-exports<a href="#reexports" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name" id="reexport.type_ref"><code>pub use self::hir::<a class="mod" href="hir/type_ref/index.html" title="mod hir_def::hir::type_ref">type_ref</a>;</code></div></li><li><div class="item-name" id="reexport.layout"><code>pub use rustc_abi as layout;</code></div></li><li><div class="item-name" id="reexport.layout-1"><code>pub use rustc_abi as layout;</code></div></li><li><div class="item-name" id="reexport.layout-2"><code>pub use rustc_abi as layout;</code></div></li></ul><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="attr/index.html" title="mod hir_def::attr">attr</a></div><div class="desc docblock-short">A higher level attributes based on TokenTree, with also some shortcuts.</div></li><li><div class="item-name"><a class="mod" href="body/index.html" title="mod hir_def::body">body</a></div><div class="desc docblock-short">Defines <code>Body</code>: a lowered representation of bodies of functions, statics and
consts.</div></li><li><div class="item-name"><a class="mod" href="builtin_type/index.html" title="mod hir_def::builtin_type">builtin_<wbr>type</a></div><div class="desc docblock-short">This module defines built-in types.</div></li><li><div class="item-name"><a class="mod" href="child_by_source/index.html" title="mod hir_def::child_by_source">child_<wbr>by_<wbr>source</a></div><div class="desc docblock-short">When <em>constructing</em> <code>hir</code>, we start at some parent syntax node and recursively
lower the children.</div></li><li><div class="item-name"><a class="mod" href="data/index.html" title="mod hir_def::data">data</a></div><div class="desc docblock-short">Contains basic data about various HIR declarations.</div></li><li><div class="item-name"><a class="mod" href="db/index.html" title="mod hir_def::db">db</a></div><div class="desc docblock-short">Defines database &amp; queries for name resolution.</div></li><li><div class="item-name"><a class="mod" href="dyn_map/index.html" title="mod hir_def::dyn_map">dyn_map</a></div><div class="desc docblock-short">This module defines a <code>DynMap</code> – a container for heterogeneous maps.</div></li><li><div class="item-name"><a class="mod" href="expander/index.html" title="mod hir_def::expander">expander</a></div><div class="desc docblock-short">Macro expansion utilities.</div></li><li><div class="item-name"><a class="mod" href="find_path/index.html" title="mod hir_def::find_path">find_<wbr>path</a></div><div class="desc docblock-short">An algorithm to find a path to refer to a certain item.</div></li><li><div class="item-name"><a class="mod" href="generics/index.html" title="mod hir_def::generics">generics</a></div><div class="desc docblock-short">Many kinds of items or constructs can have generic parameters: functions,
structs, impls, traits, etc. This module provides a common HIR for these
generic parameters. See also the <code>Generics</code> type and the <code>generics_of</code> query
in rustc.</div></li><li><div class="item-name"><a class="mod" href="hir/index.html" title="mod hir_def::hir">hir</a></div><div class="desc docblock-short">This module describes hir-level representation of expressions.</div></li><li><div class="item-name"><a class="mod" href="import_map/index.html" title="mod hir_def::import_map">import_<wbr>map</a></div><div class="desc docblock-short">A map of all publicly exported items in a crate.</div></li><li><div class="item-name"><a class="mod" href="item_scope/index.html" title="mod hir_def::item_scope">item_<wbr>scope</a></div><div class="desc docblock-short">Describes items defined or visible (ie, imported) in a certain scope.
This is shared between modules and blocks.</div></li><li><div class="item-name"><a class="mod" href="item_tree/index.html" title="mod hir_def::item_tree">item_<wbr>tree</a></div><div class="desc docblock-short">A simplified AST that only contains items.</div></li><li><div class="item-name"><a class="mod" href="lang_item/index.html" title="mod hir_def::lang_item">lang_<wbr>item</a></div><div class="desc docblock-short">Collects lang items: items marked with <code>#[lang = "..."]</code> attribute.</div></li><li><div class="item-name"><a class="mod" href="lower/index.html" title="mod hir_def::lower">lower</a></div><div class="desc docblock-short">Context for lowering paths.</div></li><li><div class="item-name"><a class="mod" href="nameres/index.html" title="mod hir_def::nameres">nameres</a></div><div class="desc docblock-short">This module implements import-resolution/macro expansion algorithm.</div></li><li><div class="item-name"><a class="mod" href="path/index.html" title="mod hir_def::path">path</a></div><div class="desc docblock-short">A desugared representation of paths like <code>crate::foo</code> or <code>&lt;Type as Trait&gt;::bar</code>.</div></li><li><div class="item-name"><a class="mod" href="per_ns/index.html" title="mod hir_def::per_ns">per_ns</a></div><div class="desc docblock-short">In rust, it is possible to have a value, a type and a macro with the same
name without conflicts.</div></li><li><div class="item-name"><a class="mod" href="resolver/index.html" title="mod hir_def::resolver">resolver</a></div><div class="desc docblock-short">Name resolution façade.</div></li><li><div class="item-name"><a class="mod" href="src/index.html" title="mod hir_def::src">src</a></div><div class="desc docblock-short">Utilities for mapping between hir IDs and the surface syntax.</div></li><li><div class="item-name"><a class="mod" href="tt/index.html" title="mod hir_def::tt">tt</a></div></li><li><div class="item-name"><a class="mod" href="visibility/index.html" title="mod hir_def::visibility">visibility</a></div><div class="desc docblock-short">Defines hir-level representation of visibility (e.g. <code>pub</code> and <code>pub(crate)</code>).</div></li></ul><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.AssocItemLoc.html" title="struct hir_def::AssocItemLoc">Assoc<wbr>Item<wbr>Loc</a></div></li><li><div class="item-name"><a class="struct" href="struct.BlockId.html" title="struct hir_def::BlockId">BlockId</a></div></li><li><div class="item-name"><a class="struct" href="struct.BlockLoc.html" title="struct hir_def::BlockLoc">Block<wbr>Loc</a></div></li><li><div class="item-name"><a class="struct" href="struct.ConstBlockId.html" title="struct hir_def::ConstBlockId">Const<wbr>Block<wbr>Id</a></div><div class="desc docblock-short">Id of the anonymous const block expression and patterns. This is very similar to <code>ClosureId</code> and
shouldn’t be a <code>DefWithBodyId</code> since its type inference is dependent on its parent.</div></li><li><div class="item-name"><a class="struct" href="struct.ConstBlockLoc.html" title="struct hir_def::ConstBlockLoc">Const<wbr>Block<wbr>Loc</a></div></li><li><div class="item-name"><a class="struct" href="struct.ConstId.html" title="struct hir_def::ConstId">ConstId</a></div></li><li><div class="item-name"><a class="struct" href="struct.ConstParamId.html" title="struct hir_def::ConstParamId">Const<wbr>Param<wbr>Id</a></div><div class="desc docblock-short">A TypeOrConstParamId with an invariant that it actually belongs to a const</div></li><li><div class="item-name"><a class="struct" href="struct.CrateRootModuleId.html" title="struct hir_def::CrateRootModuleId">Crate<wbr>Root<wbr>Module<wbr>Id</a></div><div class="desc docblock-short">A <code>ModuleId</code> that is always a crate’s root module.</div></li><li><div class="item-name"><a class="struct" href="struct.EnumId.html" title="struct hir_def::EnumId">EnumId</a></div></li><li><div class="item-name"><a class="struct" href="struct.EnumVariantId.html" title="struct hir_def::EnumVariantId">Enum<wbr>Variant<wbr>Id</a></div></li><li><div class="item-name"><a class="struct" href="struct.EnumVariantLoc.html" title="struct hir_def::EnumVariantLoc">Enum<wbr>Variant<wbr>Loc</a></div></li><li><div class="item-name"><a class="struct" href="struct.ExternBlockId.html" title="struct hir_def::ExternBlockId">Extern<wbr>Block<wbr>Id</a></div></li><li><div class="item-name"><a class="struct" href="struct.ExternCrateId.html" title="struct hir_def::ExternCrateId">Extern<wbr>Crate<wbr>Id</a></div></li><li><div class="item-name"><a class="struct" href="struct.FieldId.html" title="struct hir_def::FieldId">FieldId</a></div></li><li><div class="item-name"><a class="struct" href="struct.FunctionId.html" title="struct hir_def::FunctionId">Function<wbr>Id</a></div></li><li><div class="item-name"><a class="struct" href="struct.ImplId.html" title="struct hir_def::ImplId">ImplId</a></div></li><li><div class="item-name"><a class="struct" href="struct.ImportPathConfig.html" title="struct hir_def::ImportPathConfig">Import<wbr>Path<wbr>Config</a></div><div class="desc docblock-short">A wrapper around three booleans</div></li><li><div class="item-name"><a class="struct" href="struct.InTypeConstId.html" title="struct hir_def::InTypeConstId">InType<wbr>Const<wbr>Id</a></div><div class="desc docblock-short">A constant in a type as a substitution for const generics (like <code>Foo&lt;{ 2 + 2 }&gt;</code>) or as an array
length (like <code>[u8; 2 + 2]</code>). These constants are body owner and are a variant of <code>DefWithBodyId</code>. These
are not called <code>AnonymousConstId</code> to prevent confusion with <a href="struct.ConstBlockId.html" title="struct hir_def::ConstBlockId"><code>ConstBlockId</code></a>.</div></li><li><div class="item-name"><a class="struct" href="struct.InTypeConstLoc.html" title="struct hir_def::InTypeConstLoc">InType<wbr>Const<wbr>Loc</a></div></li><li><div class="item-name"><a class="struct" href="struct.ItemLoc.html" title="struct hir_def::ItemLoc">ItemLoc</a></div></li><li><div class="item-name"><a class="struct" href="struct.LifetimeParamId.html" title="struct hir_def::LifetimeParamId">Lifetime<wbr>Param<wbr>Id</a></div></li><li><div class="item-name"><a class="struct" href="struct.Macro2Id.html" title="struct hir_def::Macro2Id">Macro2<wbr>Id</a></div></li><li><div class="item-name"><a class="struct" href="struct.Macro2Loc.html" title="struct hir_def::Macro2Loc">Macro2<wbr>Loc</a></div></li><li><div class="item-name"><a class="struct" href="struct.MacroRulesId.html" title="struct hir_def::MacroRulesId">Macro<wbr>Rules<wbr>Id</a></div></li><li><div class="item-name"><a class="struct" href="struct.MacroRulesLoc.html" title="struct hir_def::MacroRulesLoc">Macro<wbr>Rules<wbr>Loc</a></div></li><li><div class="item-name"><a class="struct" href="struct.MacroRulesLocFlags.html" title="struct hir_def::MacroRulesLocFlags">Macro<wbr>Rules<wbr>LocFlags</a></div></li><li><div class="item-name"><a class="struct" href="struct.ModuleId.html" title="struct hir_def::ModuleId">Module<wbr>Id</a></div></li><li><div class="item-name"><a class="struct" href="struct.ProcMacroId.html" title="struct hir_def::ProcMacroId">Proc<wbr>Macro<wbr>Id</a></div></li><li><div class="item-name"><a class="struct" href="struct.ProcMacroLoc.html" title="struct hir_def::ProcMacroLoc">Proc<wbr>Macro<wbr>Loc</a></div></li><li><div class="item-name"><a class="struct" href="struct.StaticId.html" title="struct hir_def::StaticId">Static<wbr>Id</a></div></li><li><div class="item-name"><a class="struct" href="struct.StructId.html" title="struct hir_def::StructId">Struct<wbr>Id</a></div></li><li><div class="item-name"><a class="struct" href="struct.TraitAliasId.html" title="struct hir_def::TraitAliasId">Trait<wbr>Alias<wbr>Id</a></div></li><li><div class="item-name"><a class="struct" href="struct.TraitId.html" title="struct hir_def::TraitId">TraitId</a></div></li><li><div class="item-name"><a class="struct" href="struct.TupleFieldId.html" title="struct hir_def::TupleFieldId">Tuple<wbr>Field<wbr>Id</a></div></li><li><div class="item-name"><a class="struct" href="struct.TupleId.html" title="struct hir_def::TupleId">TupleId</a></div></li><li><div class="item-name"><a class="struct" href="struct.TypeAliasId.html" title="struct hir_def::TypeAliasId">Type<wbr>Alias<wbr>Id</a></div></li><li><div class="item-name"><a class="struct" href="struct.TypeOrConstParamId.html" title="struct hir_def::TypeOrConstParamId">Type<wbr>OrConst<wbr>Param<wbr>Id</a></div></li><li><div class="item-name"><a class="struct" href="struct.TypeParamId.html" title="struct hir_def::TypeParamId">Type<wbr>Param<wbr>Id</a></div><div class="desc docblock-short">A TypeOrConstParamId with an invariant that it actually belongs to a type</div></li><li><div class="item-name"><a class="struct" href="struct.UnionId.html" title="struct hir_def::UnionId">UnionId</a></div></li><li><div class="item-name"><a class="struct" href="struct.UnresolvedMacro.html" title="struct hir_def::UnresolvedMacro">Unresolved<wbr>Macro</a></div></li><li><div class="item-name"><a class="struct" href="struct.UseId.html" title="struct hir_def::UseId">UseId</a></div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.AdtId.html" title="enum hir_def::AdtId">AdtId</a></div><div class="desc docblock-short">A Data Type</div></li><li><div class="item-name"><a class="enum" href="enum.AssocItemId.html" title="enum hir_def::AssocItemId">Assoc<wbr>Item<wbr>Id</a></div></li><li><div class="item-name"><a class="enum" href="enum.AttrDefId.html" title="enum hir_def::AttrDefId">Attr<wbr>DefId</a></div></li><li><div class="item-name"><a class="enum" href="enum.CallableDefId.html" title="enum hir_def::CallableDefId">Callable<wbr>DefId</a></div></li><li><div class="item-name"><a class="enum" href="enum.DefWithBodyId.html" title="enum hir_def::DefWithBodyId">DefWith<wbr>Body<wbr>Id</a></div><div class="desc docblock-short">The defs which have a body.</div></li><li><div class="item-name"><a class="enum" href="enum.GeneralConstId.html" title="enum hir_def::GeneralConstId">General<wbr>Const<wbr>Id</a></div><div class="desc docblock-short">A constant, which might appears as a const item, an anonymous const block in expressions
or patterns, or as a constant in types with const generics.</div></li><li><div class="item-name"><a class="enum" href="enum.GenericDefId.html" title="enum hir_def::GenericDefId">Generic<wbr>DefId</a></div></li><li><div class="item-name"><a class="enum" href="enum.GenericParamId.html" title="enum hir_def::GenericParamId">Generic<wbr>Param<wbr>Id</a></div><div class="desc docblock-short">A generic param</div></li><li><div class="item-name"><a class="enum" href="enum.ItemContainerId.html" title="enum hir_def::ItemContainerId">Item<wbr>Container<wbr>Id</a></div></li><li><div class="item-name"><a class="enum" href="enum.MacroExpander.html" title="enum hir_def::MacroExpander">Macro<wbr>Expander</a></div></li><li><div class="item-name"><a class="enum" href="enum.MacroId.html" title="enum hir_def::MacroId">MacroId</a></div><div class="desc docblock-short">A macro</div></li><li><div class="item-name"><a class="enum" href="enum.ModuleDefId.html" title="enum hir_def::ModuleDefId">Module<wbr>DefId</a></div><div class="desc docblock-short">The defs which can be visible in the module.</div></li><li><div class="item-name"><a class="enum" href="enum.TypeOwnerId.html" title="enum hir_def::TypeOwnerId">Type<wbr>Owner<wbr>Id</a></div><div class="desc docblock-short">Something that holds types, required for the current const arg lowering implementation as they
need to be able to query where they are defined.</div></li><li><div class="item-name"><a class="enum" href="enum.VariantId.html" title="enum hir_def::VariantId">Variant<wbr>Id</a></div></li></ul><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.AsMacroCall.html" title="trait hir_def::AsMacroCall">AsMacro<wbr>Call</a></div><div class="desc docblock-short">A helper trait for converting to MacroCallId</div></li><li><div class="item-name"><a class="trait" href="trait.HasModule.html" title="trait hir_def::HasModule">HasModule</a></div></li><li><div class="item-name"><a class="trait" href="trait.Intern.html" title="trait hir_def::Intern">Intern</a></div></li><li><div class="item-name"><a class="trait" href="trait.ItemTreeLoc.html" title="trait hir_def::ItemTreeLoc">Item<wbr>Tree<wbr>Loc</a></div></li><li><div class="item-name"><a class="trait" href="trait.Lookup.html" title="trait hir_def::Lookup">Lookup</a></div></li><li><div class="item-name"><a class="trait" href="trait.OpaqueInternableThing.html" title="trait hir_def::OpaqueInternableThing">Opaque<wbr>Internable<wbr>Thing</a></div><div class="desc docblock-short">A thing that we want to store in interned ids, but we don’t know its type in <code>hir-def</code>. This is
currently only used in <code>InTypeConstId</code> for storing the type (which has type <code>Ty</code> defined in
the <code>hir-ty</code> crate) of the constant in its id, which is a temporary hack so we may want
to remove this after removing that.</div></li></ul><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.EnumLoc.html" title="type hir_def::EnumLoc">EnumLoc</a></div></li><li><div class="item-name"><a class="type" href="type.LocalFieldId.html" title="type hir_def::LocalFieldId">Local<wbr>Field<wbr>Id</a></div></li><li><div class="item-name"><a class="type" href="type.LocalLifetimeParamId.html" title="type hir_def::LocalLifetimeParamId">Local<wbr>Lifetime<wbr>Param<wbr>Id</a></div></li><li><div class="item-name"><a class="type" href="type.LocalModuleId.html" title="type hir_def::LocalModuleId">Local<wbr>Module<wbr>Id</a></div><div class="desc docblock-short">An ID of a module, <strong>local</strong> to a <code>DefMap</code>.</div></li><li><div class="item-name"><a class="type" href="type.LocalTypeOrConstParamId.html" title="type hir_def::LocalTypeOrConstParamId">Local<wbr>Type<wbr>OrConst<wbr>Param<wbr>Id</a></div></li><li><div class="item-name"><a class="type" href="type.StaticLoc.html" title="type hir_def::StaticLoc">Static<wbr>Loc</a></div></li><li><div class="item-name"><a class="type" href="type.TraitAliasLoc.html" title="type hir_def::TraitAliasLoc">Trait<wbr>Alias<wbr>Loc</a></div></li><li><div class="item-name"><a class="type" href="type.TraitLoc.html" title="type hir_def::TraitLoc">Trait<wbr>Loc</a></div></li><li><div class="item-name"><a class="type" href="type.UnionLoc.html" title="type hir_def::UnionLoc">Union<wbr>Loc</a></div></li></ul></section></div></main></body></html>